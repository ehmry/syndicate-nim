include_rules
modules += dataspace.nim
modules += dataspacePatterns.nim
modules += gatekeeper.nim
modules += protocol.nim
modules += racketEvent.nim
modules += secureChatProtocol.nim
modules += service.nim
modules += simpleChatProtocol.nim
modules += stream.nim
modules += sturdy.nim
modules += tcp.nim
modules += timer.nim
modules += trace.nim
modules += transportAddress.nim
modules += worker.nim

: ../../../../syndicate-protocols/schema-bundle.bin \
	|> !preserves_schema_nim \
	|> $(modules) | $(PROTOCOLS) {generated}

: foreach {generated} | {generated} |> !nim_run |>
